<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SaAya Donat - Garut</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{font-family:'Poppins',sans-serif;margin:0;background:#fff0f6}
header{background:linear-gradient(90deg,#ff9ecf,#ff6fb5);color:#fff;padding:20px;text-align:center}
.container{padding:15px;max-width:900px;margin:auto}
.card{background:#fff;padding:15px;margin-bottom:15px;border-radius:20px;box-shadow:0 4px 12px rgba(255,105,180,0.2)}
input,select,textarea,button{width:100%;padding:10px;margin-top:8px;border-radius:12px;border:1px solid #ffc1e3;font-size:14px}
button{background:#ff6fb5;color:#fff;border:none;font-weight:600}
.badge{display:inline-block;background:#ffb3d9;padding:4px 8px;border-radius:20px;font-size:11px;color:#fff}
.product{margin-bottom:10px;padding-bottom:10px;border-bottom:1px dashed #ffd1ea}
</style>
</head>
<body>
<header>
<h1>üç© SaAya Donat</h1>
<p>Donat Fresh Garut</p>
</header>

<div class="container">
<div class="card">
<h3>Menu Donat</h3>
<div id="productList"></div>
</div>

<div class="card">
<h3>Data Pemesan</h3>
<input id="bName" placeholder="Nama">
<textarea id="bAddress" placeholder="Alamat Lengkap"></textarea>
<select id="bMethod">
<option value="COD">COD</option>
<option value="Transfer">Transfer</option>
</select>
<button onclick="checkout()">Pesan Sekarang</button>
</div>
</div>

<script>
let products=JSON.parse(localStorage.getItem('products')||'[]');
let orders=JSON.parse(localStorage.getItem('orders')||'[]');
let cart=[];

function save(){
localStorage.setItem('products',JSON.stringify(products));
localStorage.setItem('orders',JSON.stringify(orders));
}

function render(){
let html='';
products.forEach((p,i)=>{
if(p.stock>0){
html+=`<div class="product"><b>${p.name}</b><br>Rp ${p.price}<br><span class="badge">Stok ${p.stock}</span><br><button onclick="addCart(${i})">Tambah</button></div>`;
}else{
html+=`<div class="product"><b>${p.name}</b><br><span class="badge">Stok Habis</span></div>`;
}
});
document.getElementById('productList').innerHTML=html;
}

function addCart(i){cart.push({index:i,qty:1});alert('Ditambahkan ke keranjang');}

function checkout(){
if(cart.length===0)return alert('Keranjang kosong');
let total=0;
cart.forEach(c=>{
let p=products[c.index];
p.stock-=c.qty;
total+=p.price*c.qty;
orders.push({date:new Date().toLocaleDateString(),name:bName.value,product:p.name,qty:c.qty,total:p.price*c.qty});
});
save();
cart=[];
alert('Pesanan berhasil ‚ù§Ô∏è');
render();
}

render();
</script>
</body>
</html>
